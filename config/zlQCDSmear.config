#--------------------------------------------------------------------------
# In order to work for local and release packages and/or for local and grid
# one should only point to files via the ${ROOTCOREBIN}/data/<package>
# 
# ---------------------------  Global variables   -------------------------
Global.IsData: TRUE
Global.IsSignal: FALSE
Global.Containers: AntiKt4EMTopoJets Muons ElectronCollection PhotonCollection TauRecContainer MET_RefFinal PrimaryVertices EventInfo 
Global.TauContainerKey: TauJets
Global.cutfile: $(ROOTCOREBIN)/data/ZeroLeptonRun2/cutfile13TeV.dat
Global.DerivationTag: p2419

# ---------------------------  Run configuration ----------------------
cafe.Run:  JobBookeeping cafe::IfPr(datamc) BuildSUSYObjects(susyobjs) 
+cafe.Run: ZeroLeptonDataDrivenQCD(smearSeeds)

cafe.Input: root://eosatlas.cern.ch//eos/atlas/user/j/jpoveda/r5625_test/AOD.01507244._011801.pool.root.1
cafe.Output: my.root
#cafe.xAODOutput: dummy.root
cafe.Containers:  %{Global.Containers}
cafe.Progress: 1000
cafe.Events: 10
cafe.AccessMode: 1 # kClassAccess

# ---------------------------  bookkeeping ---------------
JobBookeeping.DerivationTag: %{Global.DerivationTag}
JobBookeeping.IsData: %{Global.IsData}

# ---------------------------  data/MC specific processors ---------------
datamc.Select: IsData(isdata)
datamc.Then: GRLProcessor(grl) DetectorQuality
datamc.Else: 
isdata.Expected: TRUE
isdata.Enforce: TRUE

# ---------------------------  GRL -----------------
grl.GRLFile: ${ROOTCOREBIN}/data/SUSYTools/GRL/Moriond2016/data15_13TeV.periodAllYear_DetStatus-v73-pro19-08_DQDefects-00-01-02_PHYS_StandardGRL_All_Good_25ns.xml

# ---------------------------  Build physics objects -----------------
susyobjs.IsData: %{Global.IsData}
susyobjs.UseSmearedJets: FALSE
susyobjs.TauContainerKey: %{Global.TauContainerKey}
susyobjs.doTrigger: FALSE

# ---------------------------  QCD seeds smearing -----------------
smearSeeds.SaveSeedEvents: FALSE
smearSeeds.Containers: %{Global.Containers}
smearSeeds.GaussianCoreSmearingType: optimal
smearSeeds.JetCollectionKey: SUSYJets
smearSeeds.cutfile: %{Global.cutfile}
smearSeeds.Run: ZeroLeptonSR(sr) 
smearSeeds.NumberSmear: 100
smearSeeds.SeedOption: 1

# ---------------------------  Build physics objects from smeared jets
redojetmet.IsData: %{Global.IsData}
redojetmet.UseSmearedJets: TRUE
redojetmet.suffix: _smeared
redojetmet.TauContainerKey: %{Global.TauContainerKey}

# ---------------------------  Signal Region -----------------
sr.IsData: %{Global.IsData}
sr.cutfile: %{Global.cutfile}
sr.IsSignal: %{Global.IsSignal}
sr.suffixSmear: _smeared
sr.doTrigger: FALSE
